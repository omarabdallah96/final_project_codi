{"ast":null,"code":"var _jsxFileName = \"/home/omar/codi/final/front/src/components/Routes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport SessionContext from \"./session/SessionContext\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport NotFound from \"../pages/NotFound\";\nimport Account from \"../pages/Account\";\nimport Home from \"../pages//Home/Home\";\nimport Profile from \"../pages/Profile/Profile\";\nimport CreatePost from \"../pages/Post/Createpost\";\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Routes() {\n  _s();\n\n  const theme = createTheme({\n    palette: {\n      primary: {\n        // Purple and green play nicely together.\n        main: \"#007bff\"\n      },\n      secondary: {\n        // This is green.A700 as hex.\n        main: '#f50057'\n      },\n      default: {\n        main: \"#ffffff\",\n        light: blue[500],\n        dark: blue[500],\n        contrastText: \"#ffffff\"\n      }\n    }\n  });\n  const {\n    session: {\n      user: {\n        token,\n        role\n      }\n    }\n  } = useContext(SessionContext);\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(PublicRoute, {\n        exact: true,\n        path: \"/account\",\n        component: Account,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        role: role,\n        exact: true,\n        path: \"/\",\n        component: Home,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        role: role,\n        exact: true,\n        path: \"/newpost\",\n        component: CreatePost,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        role: role,\n        path: \"/dashnoard\",\n        component: Profile,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        role: role,\n        exact: true,\n        path: \"/profile\",\n        component: Profile,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        component: NotFound\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Routes, \"WUPVUApmcry5TV/UirQXi1ttHaY=\");\n\n_c = Routes;\n\nfunction PublicRoute({\n  path,\n  component: Component,\n  token,\n  ...props\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Route, { ...props,\n      path: path,\n      render: props => token ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(Component, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 41\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_c2 = PublicRoute;\n\nfunction PrivateRoute({\n  path,\n  component: Component,\n  token,\n  role,\n  ...props\n}) {\n  return /*#__PURE__*/_jsxDEV(Route, { ...props,\n    path: path,\n    render: props => {\n      let redirectTo = null;\n      if (!token) redirectTo = \"/account\";\n\n      switch (role) {\n        case \"admin\":\n          if ([\"/profile\"].includes(path)) redirectTo = \"/dashboard\";\n          break;\n\n        case \"user\":\n          if (path.indexOf(\"dashboard\") > -1) redirectTo = \"/\";\n          break;\n\n        default:\n          break;\n      }\n\n      if (redirectTo) return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: redirectTo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 32\n      }, this);\n      return /*#__PURE__*/_jsxDEV(Component, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 16\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = PrivateRoute;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Routes\");\n$RefreshReg$(_c2, \"PublicRoute\");\n$RefreshReg$(_c3, \"PrivateRoute\");","map":{"version":3,"sources":["/home/omar/codi/final/front/src/components/Routes.js"],"names":["React","useContext","SessionContext","Switch","Route","Redirect","NotFound","Account","Home","Profile","CreatePost","createTheme","ThemeProvider","Routes","theme","palette","primary","main","secondary","default","light","blue","dark","contrastText","session","user","token","role","PublicRoute","path","component","Component","props","PrivateRoute","redirectTo","includes","indexOf"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,sBAA3C;;;AAGA,eAAe,SAASC,MAAT,GAAkB;AAAA;;AAC/B,QAAMC,KAAK,GAAGH,WAAW,CAAC;AACxBI,IAAAA,OAAO,EAAE;AACPC,MAAAA,OAAO,EAAE;AACP;AACAC,QAAAA,IAAI,EAAE;AAFC,OADF;AAKPC,MAAAA,SAAS,EAAE;AACT;AACAD,QAAAA,IAAI,EAAE;AAFG,OALJ;AASPE,MAAAA,OAAO,EAAE;AACPF,QAAAA,IAAI,EAAE,SADC;AAEPG,QAAAA,KAAK,EAAEC,IAAI,CAAC,GAAD,CAFJ;AAGPC,QAAAA,IAAI,EAAED,IAAI,CAAC,GAAD,CAHH;AAIPE,QAAAA,YAAY,EAAE;AAJP;AATF;AADe,GAAD,CAAzB;AAkBA,QAAM;AACJC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT;AADC;AADL,MAIF1B,UAAU,CAACC,cAAD,CAJd;AAMA,sBACE,QAAC,aAAD;AAAe,IAAA,KAAK,EAAEY,KAAtB;AAAA,2BAEA,QAAC,MAAD;AAAA,8BACE,QAAC,WAAD;AAAa,QAAA,KAAK,MAAlB;AAAmB,QAAA,IAAI,EAAC,UAAxB;AAAmC,QAAA,SAAS,EAAEP,OAA9C;AAAuD,QAAA,KAAK,EAAEmB;AAA9D;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,YAAD;AAAc,QAAA,IAAI,EAAEC,IAApB;AAA0B,QAAA,KAAK,MAA/B;AAAgC,QAAA,IAAI,EAAC,GAArC;AAAyC,QAAA,SAAS,EAAEnB,IAApD;AAA0D,QAAA,KAAK,EAAEkB;AAAjE;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,YAAD;AAAc,QAAA,IAAI,EAAEC,IAApB;AAA0B,QAAA,KAAK,MAA/B;AAAgC,QAAA,IAAI,EAAC,UAArC;AAAgD,QAAA,SAAS,EAAEjB,UAA3D;AAAuE,QAAA,KAAK,EAAEgB;AAA9E;AAAA;AAAA;AAAA;AAAA,cAHF,eAKE,QAAC,YAAD;AACE,QAAA,IAAI,EAAEC,IADR;AAEE,QAAA,IAAI,EAAC,YAFP;AAGE,QAAA,SAAS,EAAElB,OAHb;AAIE,QAAA,KAAK,EAAEiB;AAJT;AAAA;AAAA;AAAA;AAAA,cALF,eAWE,QAAC,YAAD;AACE,QAAA,IAAI,EAAEC,IADR;AAEE,QAAA,KAAK,MAFP;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,SAAS,EAAElB,OAJb;AAKE,QAAA,KAAK,EAAEiB;AALT;AAAA;AAAA;AAAA;AAAA,cAXF,eAkBE,QAAC,KAAD;AACE,QAAA,SAAS,EAAEpB;AADb;AAAA;AAAA;AAAA;AAAA,cAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,UADF;AA8BD;;GAvDuBO,M;;KAAAA,M;;AAwDxB,SAASe,WAAT,CAAqB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,SAAS,EAAEC,SAAnB;AAA8BL,EAAAA,KAA9B;AAAqC,KAAGM;AAAxC,CAArB,EAAsE;AACpE,sBACE;AAAA,2BACE,QAAC,KAAD,OACMA,KADN;AAEE,MAAA,IAAI,EAAEH,IAFR;AAGE,MAAA,MAAM,EAAGG,KAAD,IACNN,KAAK,gBAAG,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAH,gBAAyB,QAAC,SAAD,OAAeM;AAAf;AAAA;AAAA;AAAA;AAAA;AAJlC;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAWD;;MAZQJ,W;;AAcT,SAASK,YAAT,CAAsB;AAAEJ,EAAAA,IAAF;AAAQC,EAAAA,SAAS,EAAEC,SAAnB;AAA8BL,EAAAA,KAA9B;AAAqCC,EAAAA,IAArC;AAA2C,KAAGK;AAA9C,CAAtB,EAA6E;AAC3E,sBACE,QAAC,KAAD,OACMA,KADN;AAEE,IAAA,IAAI,EAAEH,IAFR;AAGE,IAAA,MAAM,EAAGG,KAAD,IAAW;AACjB,UAAIE,UAAU,GAAG,IAAjB;AACA,UAAI,CAACR,KAAL,EAAYQ,UAAU,GAAG,UAAb;;AAEZ,cAAQP,IAAR;AACE,aAAK,OAAL;AACE,cAAI,CAAC,UAAD,EAAaQ,QAAb,CAAsBN,IAAtB,CAAJ,EAAiCK,UAAU,GAAG,YAAb;AACjC;;AACF,aAAK,MAAL;AACE,cAAIL,IAAI,CAACO,OAAL,CAAa,WAAb,IAA4B,CAAC,CAAjC,EAAoCF,UAAU,GAAG,GAAb;AACpC;;AACF;AACE;AARJ;;AAWA,UAAIA,UAAJ,EAAgB,oBAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAEA;AAAd;AAAA;AAAA;AAAA;AAAA,cAAP;AAChB,0BAAO,QAAC,SAAD,OAAeF;AAAf;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;AApBH;AAAA;AAAA;AAAA;AAAA,UADF;AAwBD;;MAzBQC,Y","sourcesContent":["import React, { useContext } from \"react\";\nimport SessionContext from \"./session/SessionContext\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport NotFound from \"../pages/NotFound\";\nimport Account from \"../pages/Account\";\nimport Home from \"../pages//Home/Home\";\nimport Profile from \"../pages/Profile/Profile\";\nimport CreatePost from \"../pages/Post/Createpost\";\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\n\nexport default function Routes() {\n  const theme = createTheme({\n    palette: {\n      primary: {\n        // Purple and green play nicely together.\n        main: \"#007bff\",\n      },\n      secondary: {\n        // This is green.A700 as hex.\n        main: '#f50057',\n      },\n      default: {\n        main: \"#ffffff\",\n        light: blue[500],\n        dark: blue[500],\n        contrastText: \"#ffffff\",\n      },\n    },\n  });\n  const {\n    session: {\n      user: { token, role },\n    },\n  } = useContext(SessionContext);\n\n  return (\n    <ThemeProvider theme={theme}>\n\n    <Switch>\n      <PublicRoute exact path=\"/account\" component={Account} token={token} />\n      <PrivateRoute role={role} exact path=\"/\" component={Home} token={token} />\n      <PrivateRoute role={role} exact path=\"/newpost\" component={CreatePost} token={token} />\n\n      <PrivateRoute\n        role={role}\n        path=\"/dashnoard\"\n        component={Profile}\n        token={token}\n      />\n      <PrivateRoute\n        role={role}\n        exact\n        path=\"/profile\"\n        component={Profile}\n        token={token}\n      />\n      <Route\n        component={NotFound}\n      />\n\n\n    </Switch>\n    </ThemeProvider>\n\n  );\n}\nfunction PublicRoute({ path, component: Component, token, ...props }) {\n  return (\n    <>\n      <Route\n        {...props}\n        path={path}\n        render={(props) =>\n          token ? <Redirect to=\"/\" /> : <Component {...props} />\n        }\n      />\n    </>\n  );\n}\n\nfunction PrivateRoute({ path, component: Component, token, role, ...props }) {\n  return (\n    <Route\n      {...props}\n      path={path}\n      render={(props) => {\n        let redirectTo = null;\n        if (!token) redirectTo = \"/account\";\n\n        switch (role) {\n          case \"admin\":\n            if ([\"/profile\"].includes(path)) redirectTo = \"/dashboard\";\n            break;\n          case \"user\":\n            if (path.indexOf(\"dashboard\") > -1) redirectTo = \"/\";\n            break;\n          default:\n            break;\n        }\n\n        if (redirectTo) return <Redirect to={redirectTo} />;\n        return <Component {...props} />;\n      }}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
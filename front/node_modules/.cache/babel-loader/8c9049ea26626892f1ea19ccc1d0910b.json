{"ast":null,"code":"var _jsxFileName = \"/home/omar/codi/final/front/src/pages/Contact/Contact.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Container, makeStyles, Snackbar, TextField, Typography } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { getCookie } from '../cookie';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  fab: {\n    position: \"fixed\",\n    bottom: 20,\n    right: 20\n  },\n  container: {\n    width: 500,\n    height: 550,\n    backgroundColor: \"white\",\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: \"auto\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100vw\",\n      height: \"100vh\"\n    }\n  },\n  form: {\n    padding: theme.spacing(2)\n  },\n  item: {\n    marginBottom: theme.spacing(3)\n  }\n}));\n\nfunction Alert(props) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 12\n  }, this);\n}\n\n_c = Alert;\n;\nconst initialFValues = {\n  // firstName: '',\n  // lastName: '',\n  // email: '',\n  // mobileNumber: '',\n  // address: '',\n  question: ''\n};\nexport default function Request() {\n  _s();\n\n  const classes = useStyles();\n  const [values, setValues] = useState(initialFValues);\n  const [openAlert, setOpenAlert] = useState(false);\n  const {\n    id: donationId\n  } = useParams();\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenAlert(false);\n  }; //Get All requests\n\n\n  const [request, setRequest] = useState([]);\n  useEffect(() => {\n    let getRequests = async () => {\n      let url = 'http://localhost:3000/requests';\n      let res = await fetch(url);\n      let result = await res.json();\n      if (result.success) setRequest(result.response);\n    };\n\n    getRequests();\n  }, []); //Post a request\n\n  function sendRequest(e) {\n    e.preventDefault();\n    let receiverId = getCookie('userId');\n    let url = 'http://localhost:3000/requests';\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ ...values,\n        donationId,\n        receiverId\n      })\n    }).then(res => res.json()).then(res => {\n      setOpenAlert(true);\n    }).catch(console.log);\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: classes.container,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: sendRequest,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \" Contact the Giver \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.item,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"standard-basic\",\n            label: \"First Name\",\n            size: \"small\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"firstName\",\n            value: values.firstName,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.item,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"standard-basic\",\n            label: \"Last Name\",\n            size: \"small\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"lastName\",\n            value: values.lastName,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.item,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"standard-basic\",\n            label: \"Email\",\n            size: \"small\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"email\",\n            value: values.email,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.item,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"standard-basic\",\n            label: \"Mobile Number\",\n            size: \"small\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"mobileNumber\",\n            value: values.mobileNumber,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.item,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"standard-basic\",\n            label: \"Address\",\n            size: \"small\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"address\",\n            value: values.address,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.item,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"outlined-multiline-static\",\n            multiline: true,\n            rows: 4,\n            defaultValue: \"\",\n            variant: \"outlined\",\n            label: \"What made you accept this duty?\",\n            size: \"small\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"question\",\n            value: values.question,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.item,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"outlined\",\n            color: \"primary\",\n            style: {\n              marginRight: 20\n            },\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"secondary\" // onClick={() => setOpen(false)}\n            ,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openAlert,\n      autoHideDuration: 4000,\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"success\",\n        children: \"Your message has been sent!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Request, \"Ss/MiBGfWN1ntmkH3qAypKPLELQ=\", false, function () {\n  return [useStyles, useParams];\n});\n\n_c2 = Request;\n;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"Request\");","map":{"version":3,"sources":["/home/omar/codi/final/front/src/pages/Contact/Contact.js"],"names":["React","useEffect","useState","Button","Container","makeStyles","Snackbar","TextField","Typography","MuiAlert","getCookie","useParams","useStyles","theme","fab","position","bottom","right","container","width","height","backgroundColor","top","left","margin","breakpoints","down","form","padding","spacing","item","marginBottom","Alert","props","initialFValues","question","Request","classes","values","setValues","openAlert","setOpenAlert","id","donationId","handleInputChange","e","name","value","target","prevState","handleClose","event","reason","request","setRequest","getRequests","url","res","fetch","result","json","success","response","sendRequest","preventDefault","receiverId","method","headers","body","JSON","stringify","then","catch","console","log","firstName","lastName","email","mobileNumber","address","marginRight","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Container, makeStyles, Snackbar, TextField, Typography } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { getCookie } from '../cookie';\nimport { useParams } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    fab: {\n        position: \"fixed\",\n        bottom: 20,\n        right: 20,\n    },\n    container: {\n        width: 500,\n        height: 550,\n        backgroundColor: \"white\",\n        position: \"absolute\",\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        margin: \"auto\",\n\n        [theme.breakpoints.down(\"sm\")]: {\n            width: \"100vw\",\n            height: \"100vh\",\n        },\n    },\n    form: {\n        padding: theme.spacing(2),\n    },\n    item: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst initialFValues = {\n    // firstName: '',\n    // lastName: '',\n    // email: '',\n    // mobileNumber: '',\n    // address: '',\n    question: ''\n}\n\nexport default function Request() {\n    const classes = useStyles();\n    const [values, setValues] = useState(initialFValues);\n    const [openAlert, setOpenAlert] = useState(false);\n    const { id: donationId } = useParams();\n\n    const handleInputChange = e => {\n        const { name, value } = e.target\n        setValues(prevState => ({\n            ...prevState,\n            [name]: value\n        }))\n    }\n\n    const handleClose = (event, reason) => {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        setOpenAlert(false);\n    };\n\n    //Get All requests\n    const [request, setRequest] = useState([]);\n\n    useEffect(() => {\n        let getRequests = async () => {\n            let url = 'http://localhost:3000/requests'\n            let res = await fetch(url);\n            let result = await res.json();\n            if (result.success) setRequest(result.response)\n        }\n        getRequests();\n    }, [])\n\n    //Post a request\n    function sendRequest(e) {\n        e.preventDefault();\n        let receiverId = getCookie('userId');\n        let url = 'http://localhost:3000/requests';\n        fetch(url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                ...values,\n                donationId,\n                receiverId\n            })\n        })\n            .then(res => res.json())\n            .then(res => {\n                setOpenAlert(true);\n            }).catch(console.log)\n    };\n\n    return (\n        <>\n            <Container className={classes.container}>\n                <form className={classes.form} onSubmit={sendRequest}>\n                    <Typography variant=\"h5\" > Contact the Giver </Typography>\n                    <div className={classes.item}>\n                        <TextField\n                            id=\"standard-basic\"\n                            label=\"First Name\"\n                            size=\"small\"\n                            style={{ width: \"100%\" }}\n                            name=\"firstName\"\n                            value={values.firstName}\n                            onChange={handleInputChange}\n                        />\n                    </div>\n                    <div className={classes.item}>\n                        <TextField\n                            id=\"standard-basic\"\n                            label=\"Last Name\"\n                            size=\"small\"\n                            style={{ width: \"100%\" }}\n                            name=\"lastName\"\n                            value={values.lastName}\n                            onChange={handleInputChange}\n                        />\n                    </div>\n                    <div className={classes.item}>\n                        <TextField\n                            id=\"standard-basic\"\n                            label=\"Email\"\n                            size=\"small\"\n                            style={{ width: \"100%\" }}\n                            name=\"email\"\n                            value={values.email}\n                            onChange={handleInputChange}\n                        />\n                    </div>\n                    <div className={classes.item}>\n                        <TextField\n                            id=\"standard-basic\"\n                            label=\"Mobile Number\"\n                            size=\"small\"\n                            style={{ width: \"100%\" }}\n                            name=\"mobileNumber\"\n                            value={values.mobileNumber}\n                            onChange={handleInputChange}\n                        />\n                    </div>\n                    <div className={classes.item}>\n                        <TextField\n                            id=\"standard-basic\"\n                            label=\"Address\"\n                            size=\"small\"\n                            style={{ width: \"100%\" }}\n                            name=\"address\"\n                            value={values.address}\n                            onChange={handleInputChange}\n                        />\n                    </div>\n                    <div className={classes.item}>\n                        <TextField\n                            id=\"outlined-multiline-static\"\n                            multiline\n                            rows={4}\n                            defaultValue=\"\"\n                            variant=\"outlined\"\n                            label=\"What made you accept this duty?\"\n                            size=\"small\"\n                            style={{ width: \"100%\" }}\n                            name=\"question\"\n                            value={values.question}\n                            onChange={handleInputChange}\n                        />\n                    </div>\n\n\n                    <div className={classes.item}>\n                        <Button\n                        type=\"submit\"\n                            variant=\"outlined\"\n                            color=\"primary\"\n                            style={{ marginRight: 20 }}\n                        >\n                            Send\n                        </Button>\n                        <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                        // onClick={() => setOpen(false)}\n                        >\n                            Cancel\n                        </Button>\n                    </div >\n                </form>\n            </Container>\n\n            <Snackbar\n                open={openAlert}\n                autoHideDuration={4000}\n                onClose={handleClose}\n                anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\n            >\n                <Alert onClose={handleClose} severity=\"success\">\n                    Your message has been sent!\n                </Alert>\n            </Snackbar>\n\n        </>\n    );\n};"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/omar/codi/final/front/src/components/Routes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport SessionContext from './session/SessionContext';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport NotFound from '../pages/NotFound';\nimport Account from '../pages/Account';\nimport Home from '../pages/Home';\nimport Profile from '../pages/Profile/Profile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Routes() {\n  _s();\n\n  const {\n    session: {\n      user: {\n        access_token,\n        role\n      }\n    }\n  } = useContext(SessionContext);\n  return /*#__PURE__*/_jsxDEV(Switch, {\n    children: [/*#__PURE__*/_jsxDEV(PublicRoute, {\n      exact: true,\n      path: \"/dashboard/login\",\n      component: Login,\n      access_token: access_token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard\",\n      component: Home,\n      access_token: access_token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      path: \"/dashnoard/profile\",\n      component: Profile,\n      access_token: access_token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/admins\",\n      component: List_admin,\n      access_token: access_token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/addadmin\",\n      access_token: access_token,\n      component: Create_admin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/editadmin/:id\",\n      access_token: access_token,\n      component: Edit_admin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/product\",\n      access_token: access_token,\n      component: List_product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/addproduct\",\n      access_token: access_token,\n      component: Create_product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/variation/:slug/:id\",\n      access_token: access_token,\n      component: Edit_product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/editproduct/:id\",\n      access_token: access_token,\n      component: Edit_products1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/categorie\",\n      access_token: access_token,\n      component: List_categorie\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/addcategorie\",\n      access_token: access_token,\n      component: Create_categorie\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/variate\",\n      access_token: access_token,\n      component: List_variate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/addvariate\",\n      access_token: access_token,\n      component: Create_variate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/catalogue\",\n      access_token: access_token,\n      component: Catalogue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/addcurrency\",\n      access_token: access_token,\n      component: Create_currency\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/getcurrency\",\n      access_token: access_token,\n      component: List_currency\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/dashboard/Edit_configuration\",\n      access_token: access_token,\n      component: Edit_configuration\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      role: role,\n      exact: true,\n      path: \"/profile\",\n      access_token: access_token,\n      component: ProfileUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n      exact: true,\n      path: \"/login\",\n      access_token: access_token,\n      component: LoginUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/productdetails/:slug\"\n      /*access_token={access_token}*/\n      ,\n      component: ProductDetails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/products\",\n      access_token: access_token,\n      component: ProductPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/cart\",\n      access_token: access_token,\n      component: CartPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/aboutus\",\n      access_token: access_token,\n      component: AboutUs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/contactus\",\n      access_token: access_token,\n      component: ContactUs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      access_token: access_token,\n      exact: true,\n      path: \"/\",\n      component: HomePage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Routes, \"tTyMLO2K/zdvZ5JXDJCfU7lMjl0=\");\n\n_c = Routes;\n\nfunction PublicRoute({\n  path,\n  component: Component,\n  access_token,\n  ...props\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Route, { ...props,\n      path: path,\n      render: props => access_token ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Component, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_c2 = PublicRoute;\n\nfunction PrivateRoute({\n  path,\n  component: Component,\n  access_token,\n  role,\n  ...props\n}) {\n  return /*#__PURE__*/_jsxDEV(Route, { ...props,\n    path: path,\n    render: props => {\n      let redirectTo = null;\n      if (!access_token) redirectTo = \"/login\";\n\n      switch (role) {\n        case \"admin\":\n          if (['/profile'].includes(path)) redirectTo = '/dashboard';\n          break;\n\n        case \"user\":\n          if (path.indexOf('dashboard') > -1) redirectTo = '/';\n          break;\n\n        default:\n          break;\n      }\n\n      if (redirectTo) return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: redirectTo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 36\n      }, this);\n      return /*#__PURE__*/_jsxDEV(Component, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 20\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n\n_c3 = PrivateRoute;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Routes\");\n$RefreshReg$(_c2, \"PublicRoute\");\n$RefreshReg$(_c3, \"PrivateRoute\");","map":{"version":3,"sources":["/home/omar/codi/final/front/src/components/Routes.js"],"names":["React","useContext","SessionContext","Switch","Route","Redirect","NotFound","Account","Home","Profile","Routes","session","user","access_token","role","Login","List_admin","Create_admin","Edit_admin","List_product","Create_product","Edit_product","Edit_products1","List_categorie","Create_categorie","List_variate","Create_variate","Catalogue","Create_currency","List_currency","Edit_configuration","ProfileUser","LoginUser","ProductDetails","ProductPage","CartPage","AboutUs","ContactUs","HomePage","PublicRoute","path","component","Component","props","PrivateRoute","redirectTo","includes","indexOf"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,OAAP,MAAoB,0BAApB;;;AAEA,eAAe,SAASC,MAAT,GAAkB;AAAA;;AAC7B,QAAM;AAEFC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,YAAF;AAAgBC,QAAAA;AAAhB;AAAR;AAFP,MAGFb,UAAU,CAACC,cAAD,CAHd;AAKA,sBACI,QAAC,MAAD;AAAA,4BACI,QAAC,WAAD;AAAa,MAAA,KAAK,MAAlB;AAAmB,MAAA,IAAI,EAAC,kBAAxB;AAA2C,MAAA,SAAS,EAAEa,KAAtD;AAA6D,MAAA,YAAY,EAAEF;AAA3E;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEC,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,YAArC;AAAkD,MAAA,SAAS,EAAEN,IAA7D;AAAmE,MAAA,YAAY,EAAEK;AAAjF;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEC,IAApB;AAA0B,MAAA,IAAI,EAAC,oBAA/B;AAAoD,MAAA,SAAS,EAAEL,OAA/D;AAAwE,MAAA,YAAY,EAAEI;AAAtF;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEC,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,mBAArC;AAAyD,MAAA,SAAS,EAAEE,UAApE;AAAgF,MAAA,YAAY,EAAEH;AAA9F;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEC,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,qBAArC;AAA2D,MAAA,YAAY,EAAED,YAAzE;AAAuF,MAAA,SAAS,EAAEI;AAAlG;AAAA;AAAA;AAAA;AAAA,YALJ,eAMI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEH,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,0BAArC;AAAgE,MAAA,YAAY,EAAED,YAA9E;AAA4F,MAAA,SAAS,EAAEK;AAAvG;AAAA;AAAA;AAAA;AAAA,YANJ,eAOI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEJ,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,oBAArC;AAA0D,MAAA,YAAY,EAAED,YAAxE;AAAsF,MAAA,SAAS,EAAEM;AAAjG;AAAA;AAAA;AAAA;AAAA,YAPJ,eAQI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEL,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,uBAArC;AAA6D,MAAA,YAAY,EAAED,YAA3E;AAAyF,MAAA,SAAS,EAAEO;AAApG;AAAA;AAAA;AAAA;AAAA,YARJ,eASI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEN,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,gCAArC;AAAsE,MAAA,YAAY,EAAED,YAApF;AAAkG,MAAA,SAAS,EAAEQ;AAA7G;AAAA;AAAA;AAAA;AAAA,YATJ,eAUI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEP,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,4BAArC;AAAkE,MAAA,YAAY,EAAED,YAAhF;AAA8F,MAAA,SAAS,EAAES;AAAzG;AAAA;AAAA;AAAA;AAAA,YAVJ,eAaI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAER,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,sBAArC;AAA4D,MAAA,YAAY,EAAED,YAA1E;AAAwF,MAAA,SAAS,EAAEU;AAAnG;AAAA;AAAA;AAAA;AAAA,YAbJ,eAcI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAET,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,yBAArC;AAA+D,MAAA,YAAY,EAAED,YAA7E;AAA2F,MAAA,SAAS,EAAEW;AAAtG;AAAA;AAAA;AAAA;AAAA,YAdJ,eAeI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEV,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,oBAArC;AAA0D,MAAA,YAAY,EAAED,YAAxE;AAAsF,MAAA,SAAS,EAAEY;AAAjG;AAAA;AAAA;AAAA;AAAA,YAfJ,eAgBI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEX,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,uBAArC;AAA6D,MAAA,YAAY,EAAED,YAA3E;AAAyF,MAAA,SAAS,EAAEa;AAApG;AAAA;AAAA;AAAA;AAAA,YAhBJ,eAiBI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEZ,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,sBAArC;AAA4D,MAAA,YAAY,EAAED,YAA1E;AAAwF,MAAA,SAAS,EAAEc;AAAnG;AAAA;AAAA;AAAA;AAAA,YAjBJ,eAkBI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEb,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,wBAArC;AAA8D,MAAA,YAAY,EAAED,YAA5E;AAA0F,MAAA,SAAS,EAAEe;AAArG;AAAA;AAAA;AAAA;AAAA,YAlBJ,eAmBI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEd,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,wBAArC;AAA8D,MAAA,YAAY,EAAED,YAA5E;AAA0F,MAAA,SAAS,EAAEgB;AAArG;AAAA;AAAA;AAAA;AAAA,YAnBJ,eAoBI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEf,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,+BAArC;AAAqE,MAAA,YAAY,EAAED,YAAnF;AAAiG,MAAA,SAAS,EAAEiB;AAA5G;AAAA;AAAA;AAAA;AAAA,YApBJ,eAqBI,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEhB,IAApB;AAA0B,MAAA,KAAK,MAA/B;AAAgC,MAAA,IAAI,EAAC,UAArC;AAAgD,MAAA,YAAY,EAAED,YAA9D;AAA4E,MAAA,SAAS,EAAEkB;AAAvF;AAAA;AAAA;AAAA;AAAA,YArBJ,eAuBI,QAAC,WAAD;AAAa,MAAA,KAAK,MAAlB;AAAmB,MAAA,IAAI,EAAC,QAAxB;AAAoC,MAAA,YAAY,EAAElB,YAAlD;AAAgE,MAAA,SAAS,EAAEmB;AAA3E;AAAA;AAAA;AAAA;AAAA,YAvBJ,eAwBI,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC;AAAwB;AAA1C;AAA0E,MAAA,SAAS,EAAEC;AAArF;AAAA;AAAA;AAAA;AAAA,YAxBJ,eAyBI,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,WAAlB;AAA8B,MAAA,YAAY,EAAEpB,YAA5C;AAA0D,MAAA,SAAS,EAAEqB;AAArE;AAAA;AAAA;AAAA;AAAA,YAzBJ,eA0BI,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,OAAlB;AAA0B,MAAA,YAAY,EAAErB,YAAxC;AAAsD,MAAA,SAAS,EAAEsB;AAAjE;AAAA;AAAA;AAAA;AAAA,YA1BJ,eA4BI,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,UAAlB;AAA6B,MAAA,YAAY,EAAEtB,YAA3C;AAAyD,MAAA,SAAS,EAAEuB;AAApE;AAAA;AAAA;AAAA;AAAA,YA5BJ,eA6BI,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,YAAlB;AAA+B,MAAA,YAAY,EAAEvB,YAA7C;AAA2D,MAAA,SAAS,EAAEwB;AAAtE;AAAA;AAAA;AAAA;AAAA,YA7BJ,eAkCI,QAAC,KAAD;AAAQ,MAAA,YAAY,EAAExB,YAAtB;AAAqC,MAAA,KAAK,MAA1C;AAA2C,MAAA,IAAI,EAAC,GAAhD;AAAoD,MAAA,SAAS,EAAEyB;AAA/D;AAAA;AAAA;AAAA;AAAA,YAlCJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAuCH;;GA7CuB5B,M;;KAAAA,M;;AA8CxB,SAAS6B,WAAT,CAAqB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,SAAS,EAAEC,SAAnB;AAA8B7B,EAAAA,YAA9B;AAA4C,KAAG8B;AAA/C,CAArB,EAA6E;AACzE,sBACI;AAAA,2BACA,QAAC,KAAD,OAAWA,KAAX;AAAkB,MAAA,IAAI,EAAEH,IAAxB;AAA8B,MAAA,MAAM,EAAEG,KAAK,IAAI9B,YAAY,gBACvD,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cADuD,gBAGvD,QAAC,SAAD,OAAe8B;AAAf;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA;AADA,mBADJ;AAUH;;MAXQJ,W;;AAaT,SAASK,YAAT,CAAuB;AAAEJ,EAAAA,IAAF;AAAQC,EAAAA,SAAS,EAAEC,SAAnB;AAA8B7B,EAAAA,YAA9B;AAA4CC,EAAAA,IAA5C;AAAkD,KAAG6B;AAArD,CAAvB,EAAqF;AACjF,sBACI,QAAC,KAAD,OAAWA,KAAX;AAAkB,IAAA,IAAI,EAAEH,IAAxB;AAA8B,IAAA,MAAM,EAAEG,KAAK,IAAI;AAE3C,UAAIE,UAAU,GAAG,IAAjB;AACA,UAAI,CAAChC,YAAL,EAAmBgC,UAAU,GAAG,QAAb;;AAEnB,cAAQ/B,IAAR;AACI,aAAK,OAAL;AACI,cAAI,CAAC,UAAD,EAAagC,QAAb,CAAsBN,IAAtB,CAAJ,EAAiCK,UAAU,GAAC,YAAX;AACjC;;AACJ,aAAK,MAAL;AACI,cAAIL,IAAI,CAACO,OAAL,CAAa,WAAb,IAA4B,CAAC,CAAjC,EAAoCF,UAAU,GAAC,GAAX;AACpC;;AACJ;AACI;AARR;;AAWA,UAAIA,UAAJ,EAAgB,oBAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAEA;AAAd;AAAA;AAAA;AAAA;AAAA,cAAP;AAChB,0BAAO,QAAC,SAAD,OAAeF;AAAf;AAAA;AAAA;AAAA;AAAA,cAAP;AAEH;AAnBD;AAAA;AAAA;AAAA;AAAA,UADJ;AAsBH;;MAvBQC,Y","sourcesContent":["import React, { useContext } from 'react';\nimport SessionContext from './session/SessionContext';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport NotFound from '../pages/NotFound';\nimport Account from '../pages/Account';\nimport Home from '../pages/Home';\nimport Profile from '../pages/Profile/Profile';\n\nexport default function Routes() {\n    const {\n        \n        session: { user: { access_token ,role} }\n    } = useContext(SessionContext);\n\n    return (\n        <Switch>\n            <PublicRoute exact path=\"/dashboard/login\" component={Login} access_token={access_token} />\n            <PrivateRoute role={role} exact path=\"/dashboard\" component={Home} access_token={access_token}  />\n            <PrivateRoute role={role} path=\"/dashnoard/profile\" component={Profile} access_token={access_token} />\n            <PrivateRoute role={role} exact path=\"/dashboard/admins\" component={List_admin} access_token={access_token} />\n            <PrivateRoute role={role} exact path=\"/dashboard/addadmin\" access_token={access_token} component={Create_admin} />\n            <PrivateRoute role={role} exact path=\"/dashboard/editadmin/:id\" access_token={access_token} component={Edit_admin} />\n            <PrivateRoute role={role} exact path=\"/dashboard/product\" access_token={access_token} component={List_product} />\n            <PrivateRoute role={role} exact path=\"/dashboard/addproduct\" access_token={access_token} component={Create_product} />\n            <PrivateRoute role={role} exact path=\"/dashboard/variation/:slug/:id\" access_token={access_token} component={Edit_product} />\n            <PrivateRoute role={role} exact path=\"/dashboard/editproduct/:id\" access_token={access_token} component={Edit_products1} />\n\n\n            <PrivateRoute role={role} exact path=\"/dashboard/categorie\" access_token={access_token} component={List_categorie} />\n            <PrivateRoute role={role} exact path=\"/dashboard/addcategorie\" access_token={access_token} component={Create_categorie} />\n            <PrivateRoute role={role} exact path=\"/dashboard/variate\" access_token={access_token} component={List_variate} />\n            <PrivateRoute role={role} exact path=\"/dashboard/addvariate\" access_token={access_token} component={Create_variate} />\n            <PrivateRoute role={role} exact path=\"/dashboard/catalogue\" access_token={access_token} component={Catalogue} />\n            <PrivateRoute role={role} exact path=\"/dashboard/addcurrency\" access_token={access_token} component={Create_currency} />\n            <PrivateRoute role={role} exact path=\"/dashboard/getcurrency\" access_token={access_token} component={List_currency} />\n            <PrivateRoute role={role} exact path=\"/dashboard/Edit_configuration\" access_token={access_token} component={Edit_configuration} />\n            <PrivateRoute role={role} exact path=\"/profile\" access_token={access_token} component={ProfileUser} />\n\n            <PublicRoute exact path=\"/login\"    access_token={access_token} component={LoginUser} />\n            <Route exact path=\"/productdetails/:slug\" /*access_token={access_token}*/ component={ProductDetails} />\n            <Route exact path=\"/products\" access_token={access_token} component={ProductPage} />\n            <Route exact path=\"/cart\" access_token={access_token} component={CartPage} />\n            \n            <Route exact path=\"/aboutus\" access_token={access_token} component={AboutUs} />\n            <Route exact path=\"/contactus\" access_token={access_token} component={ContactUs} />\n\n\n\n\n            <Route  access_token={access_token}  exact path=\"/\" component={HomePage} />\n\n        </Switch>\n    );\n}\nfunction PublicRoute({ path, component: Component, access_token, ...props }) {\n    return (\n        <>\n        <Route {...props} path={path} render={props => access_token ?\n            <Redirect to=\"/dashboard\" /> :\n            \n            <Component {...props} />\n        } />\n        \n        </>\n    )\n}\n\nfunction PrivateRoute( { path, component: Component, access_token, role, ...props }) {\n    return (\n        <Route {...props} path={path} render={props => {\n\n            let redirectTo = null;\n            if (!access_token) redirectTo = \"/login\";\n\n            switch (role) {\n                case \"admin\":\n                    if (['/profile'].includes(path)) redirectTo='/dashboard';\n                    break;\n                case \"user\":\n                    if (path.indexOf('dashboard') > -1) redirectTo='/';\n                    break;\n                default:\n                    break;\n            }\n\n            if (redirectTo) return <Redirect to={redirectTo} />;\n            return <Component {...props} />;\n\n        }} />\n    )\n}\n"]},"metadata":{},"sourceType":"module"}